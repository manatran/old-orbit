type User {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
  token: String!
	isAdmin: Boolean! @default(value: "false")
	blacklist: [User!]
	subscriptions: [Category!]
}

type Submission {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	author: User!
	title: String!
	description: String!
	comments: [Comment!]
	challenge: Challenge!
	tags: [Tag!]
	githubUrl: String!
	thumbnail: String!
}

type Post {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	author: User!
	title: String!
	description: String!
	comments: [Comment!]
	tags: [Tag!]
	category: Category!
	pinned: Boolean! @default(value: "false")
}

type Challenge {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
  startsAt: DateTime!
  expiresAt: DateTime!
  author: User!
  title: String!
  description: String!
  period: String!
}

type Comment {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	author: User! @relation(name: "CommentAuthorRelation")
	content: String!
	likes: [User!] @relation(name: "LikeRelation")
	parentComment: Comment!
	tags: [Tag!]
}

type Tag {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	name: String!
	description: String!
	thumbnail: String!
	parentTag: Tag
}

type Category {
	id: ID! @unique
  createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	name: String!
	description: String!
	thumbnail: String!
	parentCategory: Category
}

type Revision {
	id: ID! @unique
	createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	author: User!
	content: String!
	post: Post!
}

type Report {
	id: ID! @unique
	createdAt: DateTime!
	updatedAt: DateTime!
	deletedAt: DateTime
	author: User! @relation(name: "ReportAuthorRelation")
	content: String!
	tags: [Tag]
	resolvedBy: User @relation(name: "ResolvedRelation")
}